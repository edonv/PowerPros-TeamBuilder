{% comment %}
{ name, positions, cost }
{% endcomment %}

{% assign playerPositions = include.positions %}

{% assign colors = '' | split: '' %}
{% for pos in playerPositions %}
    {% assign colorName = site.data.colors.positions[pos] %}
    {% unless colors contains colorName %}
        {% assign colors = colors | push: colorName %}
    {% endunless %}
{% endfor %}

{% assign colorCount = colors | size %}
{% assign percent = 100 | divided_by:colorCount %}

{% assign firstColor = colors | first %}
{% assign gradientStart = "background-image: linear-gradient(to right, " | append: firstColor %}

{% assign gradientMiddle = "" %}
{% for color in colors %}
    {% assign middleTemp = gradientMiddle | append: ", " | append: color | append: " " | append: percent | append: "%" %}
    {% assign gradientMiddle = middleTemp %}
{% endfor %}

{% assign gradientEnd = "" %}
{% if colors | size > 1 %}
    {% assign lastColor = colors | last %}
    {% assign gradientEnd = ", " | append: lastColor %}
{% endif %}

{% assign gradient = gradientStart | append: gradientMiddle | append: gradientEnd | append: ");" %}

<span class="player-name-cell" style="{{ gradient }}">{{ include.name }}</span><span>{{ include.cost }}</span>
